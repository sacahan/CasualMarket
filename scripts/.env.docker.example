# ============================================
# CasualMarket MCP Server - Docker 環境配置範例
# ============================================
# 
# 使用方式：
# 1. 複製此文件: cp scripts/.env.docker.example scripts/.env.docker
# 2. 根據需求修改配置
# 3. 啟動容器時會自動使用此配置
#
# 注意：.env.docker 文件不會被 git 追蹤
# ============================================

# ============================================
# API 客戶端配置
# ============================================

# API 請求超時時間（秒）
MARKET_MCP_API_TIMEOUT=10

# API 請求重試次數
MARKET_MCP_API_RETRIES=5

# 台灣證交所 API 端點 URL（通常不需要修改）
# MARKET_MCP_TWSE_API_URL=https://mis.twse.com.tw/stock/api/getStockInfo.jsp

# ============================================
# 限速配置
# ============================================

# 啟用限速功能（true/false）
MARKET_MCP_RATE_LIMITING_ENABLED=true

# 每個股票請求間隔秒數
MARKET_MCP_RATE_LIMIT_INTERVAL=30.0

# 全域每分鐘請求限制
MARKET_MCP_RATE_LIMIT_GLOBAL_PER_MINUTE=20

# 每秒請求限制
MARKET_MCP_RATE_LIMIT_PER_SECOND=2

# ============================================
# 快取配置
# ============================================

# 啟用快取功能（true/false）
MARKET_MCP_CACHING_ENABLED=true

# 快取存活時間（秒）
MARKET_MCP_CACHE_TTL=30

# 快取最大條目數
MARKET_MCP_CACHE_MAX_SIZE=1000

# 快取最大記憶體使用（MB）
MARKET_MCP_CACHE_MAX_MEMORY_MB=200.0

# ============================================
# 監控配置
# ============================================

# 統計資料保留時間（小時）
MARKET_MCP_MONITORING_STATS_RETENTION_HOURS=24

# 快取命中率目標（百分比）
MARKET_MCP_MONITORING_CACHE_HIT_RATE_TARGET=80.0

# ============================================
# 日誌配置
# ============================================

# 日誌級別：DEBUG, INFO, WARNING, ERROR
MARKET_MCP_LOG_LEVEL=INFO

# 日誌格式（可選，留空使用預設格式）
# MARKET_MCP_LOG_FORMAT=

# 日誌文件路徑（可選，留空僅輸出到 console）
# MARKET_MCP_LOG_FILE=/app/logs/casualmarket.log

# ============================================
# Docker 特定配置
# ============================================

# 容器時區（可選）
TZ=Asia/Taipei

# Python 優化選項
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# 容器對外端口（主機端口映射）
# 格式: HOST_PORT:CONTAINER_PORT，容器內部固定使用 8000
DOCKER_PORT=8066

# ============================================
# 進階配置（通常不需要修改）
# ============================================

# OpenAPI 客戶端配置
# MARKET_MCP_OPENAPI_BASE_URL=https://openapi.twse.com.tw
# MARKET_MCP_OPENAPI_TIMEOUT=30
# MARKET_MCP_OPENAPI_RETRIES=3

# 資料庫路徑（容器內路徑）
# DATABASE_PATH=/app/src/data/twse_securities.db

# ============================================
# 開發/測試專用配置
# ============================================

# 啟用 DEBUG 模式（開發環境使用）
# DEBUG=false

# 啟用詳細日誌（開發環境使用）
# VERBOSE=false

# 測試模式（跳過某些驗證）
# TEST_MODE=false
